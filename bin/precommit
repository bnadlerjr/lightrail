#!/bin/bash
set -euo pipefail
IFS=$'\n\t'

echo "> Clean _build folder and compile..."
mix "do" clean, compile

echo "> Running unit tests..."
mix test

echo "> Running credo..."
mix credo

echo "> Checking formatting..."
mix format --check-formatted

echo "> Running RabbitMQ integration tests..."
mix test --only rabbit
